<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Ù„Ø¹Ø¨Ø© Codenames Ù…ÙˆØ¯Ø±Ù† ÙˆÙØ®Ù…</title>
<style>
  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: #121212;
    color: #eee;
    margin: 0; padding: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    min-height: 100vh;
  }
  header {
    background: #1f1f1f;
    padding: 1rem;
    width: 100%;
    text-align: center;
    font-size: 1.8rem;
    font-weight: bold;
    letter-spacing: 2px;
    box-shadow: 0 3px 8px #000;
  }
  main {
    flex-grow: 1;
    max-width: 900px;
    width: 100%;
    padding: 1rem;
  }
  .room-section {
    background: #222;
    border-radius: 10px;
    padding: 1rem 1.5rem;
    margin-bottom: 2rem;
    box-shadow: 0 0 10px #0f0;
  }
  .room-section label {
    display: block;
    margin-bottom: 0.3rem;
    font-weight: 600;
  }
  .room-section input[type="text"] {
    width: 100%;
    padding: 0.5rem 1rem;
    border-radius: 6px;
    border: none;
    font-size: 1rem;
  }
  .room-section button {
    margin-top: 0.7rem;
    padding: 0.6rem 1.4rem;
    border: none;
    border-radius: 6px;
    background: #0b0;
    color: #fff;
    font-weight: 700;
    cursor: pointer;
    transition: background 0.3s ease;
  }
  .room-section button:hover {
    background: #0f0;
  }

  .board {
    display: grid;
    grid-template-columns: repeat(5, 1fr);
    gap: 10px;
  }
  .card {
    background: #333;
    border-radius: 8px;
    padding: 1rem;
    text-align: center;
    font-weight: 600;
    font-size: 1.2rem;
    cursor: pointer;
    user-select: none;
    box-shadow: 0 0 8px #000;
    color: #eee;
    transition: background 0.3s ease, color 0.3s ease;
  }
  .card.guessed.red {
    background: #b22;
    color: #fff;
    cursor: default;
  }
  .card.guessed.blue {
    background: #228;
    color: #fff;
    cursor: default;
  }
  .card.guessed.neutral {
    background: #555;
    color: #ccc;
    cursor: default;
  }
  .card.guessed.assassin {
    background: #000;
    color: #f33;
    cursor: default;
  }

  .info {
    margin-top: 1rem;
    font-size: 1.2rem;
  }

  .turn-indicator {
    font-weight: 700;
    margin-bottom: 1rem;
    text-align: center;
    font-size: 1.4rem;
  }

  .winner-message {
    font-size: 1.6rem;
    font-weight: 900;
    text-align: center;
    margin-top: 1rem;
    color: #0f0;
  }
</style>
</head>
<body>

<header>Ù„Ø¹Ø¨Ø© Codenames - Ù…ÙˆØ¯Ø±Ù† ÙˆÙØ®Ù…</header>

<main>
  <section class="room-section">
    <label for="roomNameInput">Ø§Ø³Ù… Ø§Ù„ØºØ±ÙØ©:</label>
    <input id="roomNameInput" type="text" placeholder="Ø§ÙƒØªØ¨ Ø§Ø³Ù… Ø§Ù„ØºØ±ÙØ© Ù‡Ù†Ø§" />
    <button id="createRoomBtn">Ø¥Ù†Ø´Ø¦ Ø§Ù„ØºØ±ÙØ©</button>
    <button id="joinRoomBtn">Ø§Ø¯Ø®Ù„ Ø§Ù„ØºØ±ÙØ©</button>
  </section>

  <section class="game-section" style="display:none;">
    <div class="turn-indicator" id="turnIndicator">Ø¯ÙˆØ±: ...</div>
    <div class="board" id="board"></div>
    <div class="winner-message" id="winnerMessage" style="display:none;"></div>
    <button id="startGameBtn" style="margin-top:1rem;">Ø¨Ø¯Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø©</button>
  </section>
</main>

<script>
  // 300 ÙƒÙ„Ù…Ø© Ø¬Ø§Ù‡Ø²Ø©
  const words = [
    "Ø´Ù…Ø³", "Ù‚Ù…Ø±", "Ù†Ø¬Ù…", "Ø¨Ø­Ø±", "ØµØ­Ø±Ø§Ø¡", "Ø±Ù…Ù„", "Ø´Ø¬Ø±Ø©", "Ù†Ù‡Ø±", "Ø¬Ø¨Ù„", "Ø³Ù…Ø§Ø¡",
    "Ø·Ø§Ø¦Ø±Ø©", "Ø³ÙŠØ§Ø±Ø©", "Ù‚Ø·Ø§Ø±", "Ù‚Ø§Ø±Ø¨", "Ø¯Ø±Ø§Ø¬Ø©", "ÙƒØªØ§Ø¨", "Ù‚Ù„Ù…", "ÙˆØ±Ù‚Ø©", "Ù…Ø¯Ø±Ø³Ø©", "Ø¬Ø§Ù…Ø¹Ø©",
    "ÙƒÙ„Ø¨", "Ù‚Ø·", "Ø­ØµØ§Ù†", "ÙØ£Ø±", "Ø³Ù…ÙƒØ©", "Ø·Ø§ÙˆÙˆØ³", "Ù†Ø³Ø±", "Ø£Ø³Ø¯", "Ù†Ù…Ø±", "Ø°Ø¦Ø¨",
    "Ø¨ÙŠØª", "Ø´Ø§Ø±Ø¹", "Ø³ÙˆÙ‚", "Ù…Ø³ØªØ´ÙÙ‰", "Ù…Ø·Ø¹Ù…", "Ù…Ø·Ø§Ø±", "Ø­Ø¯ÙŠÙ‚Ø©", "Ø¬Ø³Ø±", "Ø¨Ø±Ø¬", "Ù…ÙƒØªØ¨Ø©",
    "ÙƒØ±Ø©", "Ù…Ø§Ø¡", "Ù†Ø§Ø±", "Ù‡ÙˆØ§Ø¡", "ØªØ±Ø§Ø¨", "Ø«Ù„Ø¬", "Ù…Ø·Ø±", "Ø±ÙŠØ­", "Ø¨Ø±Ù‚", "Ø±Ø¹Ø¯",
    "ÙØ¶Ø©", "Ø°Ù‡Ø¨", "Ø­Ø¯ÙŠØ¯", "Ù†Ø­Ø§Ø³", "Ø±ØµØ§Øµ", "Ø²Ù†Ùƒ", "Ø£Ù„Ù…ÙˆÙ†ÙŠÙˆÙ…", "Ø¨Ù„Ø§ØªÙŠÙ†", "ÙƒÙˆØ¨Ø§Ù„Øª", "Ù†ÙŠÙƒÙ„",
    "Ø´Ø§ÙŠ", "Ù‚Ù‡ÙˆØ©", "Ø¹Ø³Ù„", "Ø³ÙƒØ±", "Ù…Ù„Ø­", "Ø²ÙŠØª", "Ø®Ù…Ø±", "Ø­Ù„ÙŠØ¨", "Ù„Ø¨Ù†", "ØªÙ…Ø±",
    "ØªÙØ§Ø­", "Ù…ÙˆØ²", "Ø¨Ø±ØªÙ‚Ø§Ù„", "Ø¹Ù†Ø¨", "ÙØ±Ø§ÙˆÙ„Ø©", "ÙƒÙŠÙˆÙŠ", "Ø£Ù†Ø§Ù†Ø§Ø³", "Ø¨Ø·ÙŠØ®", "Ø´Ù…Ø§Ù…", "ÙƒØ±ÙƒØ¯ÙŠÙ‡",
    "ÙƒØ±Ø© Ø§Ù„Ù‚Ø¯Ù…", "ÙƒØ±Ø© Ø§Ù„Ø³Ù„Ø©", "ÙƒØ±Ø© Ø§Ù„Ø·Ø§Ø¦Ø±Ø©", "ØªÙ†Ø³", "Ø³Ø¨Ø§Ø­Ø©", "Ø¬Ø±ÙŠ", "Ø±Ù…Ø§ÙŠØ©", "Ù…ØµØ§Ø±Ø¹Ø©", "Ù…Ù„Ø§ÙƒÙ…Ø©", "ØºÙˆÙ„Ù",
    "Ø´Ø¹Ø±", "Ø±ÙˆØ§ÙŠØ©", "Ù‚ØµÙŠØ¯Ø©", "Ù…Ø³Ø±Ø­ÙŠØ©", "Ø³ÙŠÙ†Ù…Ø§", "Ù…ÙˆØ³ÙŠÙ‚Ù‰", "Ø±Ø³Ù…", "ØªØµÙˆÙŠØ±", "ØªÙ…Ø«Ø§Ù„", "Ù…Ø¹Ø±Ø¶",
    "Ø´Ù…Ø³ÙŠØ©", "Ù…Ø¸Ù„Ø©", "Ø³Ø§Ø¹Ø©", "Ù‡Ø§ØªÙ", "Ø­Ø§Ø³ÙˆØ¨", "ÙƒØ§Ù…ÙŠØ±Ø§", "Ù…Ø±ÙˆØ­Ø©", "Ø«Ù„Ø§Ø¬Ø©", "Ù…ÙŠÙƒØ±ÙˆÙˆÙŠÙ", "ØºØ³Ø§Ù„Ø©",
    "Ø·Ø§ÙˆÙ„Ø©", "ÙƒØ±Ø³ÙŠ", "Ø³Ø±ÙŠØ±", "Ø®Ø²Ø§Ù†Ø©", "Ø¨Ø§Ø¨", "Ù†Ø§ÙØ°Ø©", "Ø³Ù‚Ù", "Ø­Ø§Ø¦Ø·", "Ø³Ø¬Ø§Ø¯Ø©", "Ù…ØµØ¨Ø§Ø­",
    "Ù‚Ø§Ø¦Ø¯", "Ø¬Ù†Ø¯ÙŠ", "Ø´Ø±Ø·ÙŠ", "Ø·Ø¨ÙŠØ¨", "Ù…Ù‡Ù†Ø¯Ø³", "Ù…Ø¹Ù„Ù…", "Ù…Ø²Ø§Ø±Ø¹", "ØµÙŠØ§Ø¯", "Ù†Ø¬Ø§Ø±", "Ø­Ø¯Ø§Ø¯",
    "ÙˆØ±Ø¯Ø©", "Ø´Ø¬Ø±Ø©", "Ù†Ø¨Ø§Øª", "Ø­ÙŠÙˆØ§Ù†", "Ø·Ø§Ø¦Ø±", "Ø³Ù…Ùƒ", "Ø­Ø´Ø±Ø©", "ÙÙ‚Ù…Ø©", "Ø¯Ø¨", "Ø«Ø¹Ù„Ø¨",
    "Ù‚Ø·Ø§Ø±", "Ø·Ø§Ø¦Ø±Ø©", "Ø³ÙÙŠÙ†Ø©", "Ø³ÙŠØ§Ø±Ø©", "Ø¯Ø±Ø§Ø¬Ø©", "Ø­Ø§ÙÙ„Ø©", "ØªØ§ÙƒØ³ÙŠ", "ØªØ±Ø§Ù…", "Ù…Ø±ÙˆØ­ÙŠØ©", "Ø²ÙˆØ±Ù‚",
    "Ù†Ø¬Ù…", "ÙƒÙˆÙƒØ¨", "Ù…Ø¬Ø±Ø©", "ÙƒÙˆÙ†", "ÙØ¶Ø§Ø¡", "Ù‚Ù…Ø±", "Ø´Ù…Ø³", "ÙƒÙˆÙŠÙƒØ¨", "Ù†ÙŠØ²Ùƒ", "Ù…Ø°Ù†Ø¨",
    "Ø®Ø¨Ø²", "Ù„Ø­Ù…", "Ø³Ù…Ùƒ", "Ø®Ø¶Ø§Ø±", "ÙØ§ÙƒÙ‡Ø©", "Ø­Ù„ÙŠØ¨", "Ø¨ÙŠØ¶", "Ø¬Ø¨Ù†", "Ø²Ø¨Ø¯Ø©", "Ø¹ØµÙŠØ±",
    "Ù…Ø¯ÙŠÙ†Ø©", "Ù‚Ø±ÙŠØ©", "Ø¹Ø§ØµÙ…Ø©", "Ø¯ÙˆÙ„Ø©", "Ù‚Ø§Ø±Ø©", "Ù…Ø­Ø§ÙØ¸Ø©", "Ø´Ø§Ø±Ø¹", "Ø³ÙˆÙ‚", "Ù…Ø·Ø§Ø±", "Ù…ÙŠÙ†Ø§Ø¡",
    "Ø¨Ø­Ø±", "Ù†Ù‡Ø±", "Ø´Ù„Ø§Ù„", "Ø¨Ø±ÙƒØ§Ù†", "ØµØ­Ø±Ø§Ø¡", "ØºØ§Ø¨Ø©", "Ø¬Ø¨Ù„", "ØªÙ„", "ÙˆØ§Ø¯ÙŠ", "Ø³Ù‡ÙˆÙ„",
    "ÙÙŠÙ„Ù…", "Ù…Ø³Ù„Ø³Ù„", "Ø¨Ø±Ù†Ø§Ù…Ø¬", "Ù…Ø³Ø±Ø­ÙŠØ©", "Ø¹Ø±Ø¶", "Ø­ÙÙ„Ø©", "Ù…ÙˆØ³ÙŠÙ‚Ù‰", "Ø±Ø³Ù…", "ÙÙ†", "Ù…ØªØ­Ù",
    "Ù„ØºØ©", "Ø­Ø±ÙˆÙ", "ÙƒÙ„Ù…Ø§Øª", "Ø¬Ù…Ù„", "Ù†Øµ", "Ù‚ØµØ©", "Ù…Ù‚Ø§Ù„", "Ø±ÙˆØ§ÙŠØ©", "Ù‚ØµÙŠØ¯Ø©", "Ù…Ø³Ø±Ø­ÙŠØ©",
    "Ø¹Ù„Ù…", "Ø±ÙŠØ§Ø¶Ø©", "ØªØ§Ø±ÙŠØ®", "Ø¬ØºØ±Ø§ÙÙŠØ§", "ÙÙ„Ø³ÙØ©", "Ø±ÙŠØ§Ø¶ÙŠØ§Øª", "ÙÙŠØ²ÙŠØ§Ø¡", "ÙƒÙŠÙ…ÙŠØ§Ø¡", "Ø¨ÙŠÙˆÙ„ÙˆØ¬ÙŠØ§", "Ø­Ø§Ø³ÙˆØ¨",
    "Ø¨Ø±Ù…Ø¬Ø©", "ØªØ·ÙˆÙŠØ±", "ØªØµÙ…ÙŠÙ…", "Ø´Ø¨ÙƒØ§Øª", "Ø£Ù†Ø¸Ù…Ø©", "Ø¨ÙŠØ§Ù†Ø§Øª", "Ø°ÙƒØ§Ø¡", "Ø§ØµØ·Ù†Ø§Ø¹ÙŠ", "ØªØ¹Ù„Ù…", "Ø¢Ù„Ø©",
    "ØµØ¯Ø§Ù‚Ø©", "Ø­Ø¨", "ÙƒØ±Ø§Ù‡ÙŠØ©", "Ø³Ù„Ø§Ù…", "Ø­Ø±Ø¨", "Ø¹Ø¯Ù„", "Ø¸Ù„Ù…", "Ø­Ø±ÙŠØ©", "Ø­Ù‚", "ÙˆØ§Ø¬Ø¨",
    "Ø³Ù…Ø§Ø¡", "ØºÙŠÙ…", "Ø±ÙŠØ­", "Ù…Ø·Ø±", "Ø«Ù„Ø¬", "Ø¨Ø±Ø¯", "Ø­Ø±", "ØµÙŠÙ", "Ø´ØªØ§Ø¡", "Ø±Ø¨ÙŠØ¹",
    "Ø±Ø¬Ù„", "Ø§Ù…Ø±Ø£Ø©", "Ø·ÙÙ„", "Ø´Ø§Ø¨", "Ù…Ø³Ù†", "Ø¹Ø§Ø¦Ù„Ø©", "ØµØ¯ÙŠÙ‚", "Ø¬Ø§Ø±", "Ø²Ù…ÙŠÙ„", "Ù…Ø¯ÙŠØ±",
    "Ø¨Ø­Ø±", "Ø´Ø§Ø·Ø¦", "Ù…ÙˆØ¬", "ØµØ®Ø±Ø©", "Ø±Ù…Ù„", "Ø³Ù…Ùƒ", "Ø·Ø§Ø¦Ø±", "Ù‚Ø§Ø±Ø¨", "Ù…Ø±ÙØ£", "Ù…ÙˆØ¬Ø©",
    "Ù†Ø¬Ø§Ø­", "ÙØ´Ù„", "ÙØ±Ø­", "Ø­Ø²Ù†", "ØºØ¶Ø¨", "Ù‡Ø¯ÙˆØ¡", "Ø®ÙˆÙ", "Ø´Ø¬Ø§Ø¹Ø©", "ØµØ¯Ù‚", "ÙƒØ°Ø¨",
    "Ø³Ù…Ø§Ø¡", "Ù†Ø¬Ù…", "Ù‚Ù…Ø±", "Ø´Ù…Ø³", "ØºÙŠÙˆÙ…", "Ø±ÙŠØ­", "Ù…Ø·Ø±", "Ø«Ù„Ø¬", "Ø¨Ø±Ù‚", "Ø±Ø¹Ø¯",
    "ÙƒØ±Ø©", "Ù…Ø¶Ø±Ø¨", "Ø´Ø¨ÙƒØ©", "Ù…Ù„Ø¹Ø¨", "Ø­ÙƒÙ…", "Ù„Ø§Ø¹Ø¨", "Ø¬Ù…Ù‡ÙˆØ±", "ÙØ±ÙŠÙ‚", "Ù…Ø¯Ø±Ø¨", "Ø¨Ø·ÙˆÙ„Ø©",
    "ÙƒØªØ§Ø¨", "Ù…ÙƒØªØ¨Ø©", "Ù…Ø¯Ø±Ø³Ø©", "Ø¬Ø§Ù…Ø¹Ø©", "ØµÙ", "Ø¯Ø±Ø³", "Ù…Ø¹Ù„Ù‘Ù…", "Ø·Ø§Ù„Ø¨", "Ø§Ø®ØªØ¨Ø§Ø±", "Ù†Ø¬Ø§Ø­"
  ];

  function shuffle(array) {
    let currentIndex = array.length, randomIndex;

    while (currentIndex != 0) {
      randomIndex = Math.floor(Math.random() * currentIndex);
      currentIndex--;
      [array[currentIndex], array[randomIndex]] = [array[randomIndex], array[currentIndex]];
    }

    return array;
  }

  // Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù„Ø¹Ø¨Ø©
  let roomName = null;
  let gameData = {
    players: [],
    started: false,
    board: null,
    turn: null,
    passed: false,
    winner: null,
  };

  const roomInput = document.getElementById('roomNameInput');
  const createRoomBtn = document.getElementById('createRoomBtn');
  const joinRoomBtn = document.getElementById('joinRoomBtn');
  const startGameBtn = document.getElementById('startGameBtn');
  const boardDiv = document.getElementById('board');
  const turnIndicator = document.getElementById('turnIndicator');
  const winnerMessage = document.getElementById('winnerMessage');
  const gameSection = document.querySelector('.game-section');

  // Ø¥Ù†Ø´Ø§Ø¡ ØºØ±ÙØ© Ø¬Ø¯ÙŠØ¯Ø©
  createRoomBtn.onclick = () => {
    if (!roomInput.value.trim()) {
      alert('Ø§ÙƒØªØ¨ Ø§Ø³Ù… Ø§Ù„ØºØ±ÙØ© Ø¹Ø´Ø§Ù† ØªÙ†Ø´Ø¦Ù‡Ø§!');
      return;
    }
    roomName = roomInput.value.trim();
    gameData = {
      players: [],
      started: false,
      board: null,
      turn: null,
      passed: false,
      winner: null,
    };
    alert(`Ø§Ù„ØºØ±ÙØ© "${roomName}" Ø§Ù†Ø´Ø¦ØªØŒ Ø§Ù„Ø­ÙŠÙ† ØªÙ‚Ø¯Ø± ØªØ¯Ø®Ù„Ù‡Ø§!`);
    gameSection.style.display = 'block';
    roomInput.disabled = true;
    createRoomBtn.disabled = true;
    joinRoomBtn.disabled = true;
    updateUI();
  };

  // Ø¯Ø®ÙˆÙ„ ØºØ±ÙØ©
  joinRoomBtn.onclick = () => {
    if (!roomInput.value.trim()) {
      alert('Ø§ÙƒØªØ¨ Ø§Ø³Ù… Ø§Ù„ØºØ±ÙØ© Ø¹Ø´Ø§Ù† ØªØ¯Ø®Ù„Ù‡Ø§!');
      return;
    }
    roomName = roomInput.value.trim();
    // Ù…Ø§ Ø¹Ù†Ø¯Ù†Ø§ Ø³ÙŠØ±ÙØ± Ø­Ù‚ÙŠÙ‚ÙŠØŒ ÙØ¨Ù†Ø¹ØªØ¨Ø± Ø§Ù„ØºØ±ÙØ© Ù…ÙˆØ¬ÙˆØ¯Ø© ÙˆÙ†ÙØªØ­Ù‡Ø§ (ØªØ·ÙˆÙŠØ± Ù…Ø³ØªÙ‚Ø¨Ù„ÙŠ)
    alert(`Ø¯Ø®Ù„Øª Ø§Ù„ØºØ±ÙØ© "${roomName}"`);
    gameSection.style.display = 'block';
    roomInput.disabled = true;
    createRoomBtn.disabled = true;
    joinRoomBtn.disabled = true;
    updateUI();
  };

  // Ø¨Ø¯Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø©
  startGameBtn.onclick = () => {
    if (!roomName) {
      alert('Ù„Ø§Ø²Ù… ØªØ¯Ø®Ù„ ØºØ±ÙØ© Ø£ÙˆÙ„!');
      return;
    }
    if (gameData.started) {
      alert('Ø§Ù„Ù„Ø¹Ø¨Ø© Ø´ØºØ§Ù„Ø©! Ù„Ø§ ØªØ¹ÙŠØ¯ Ø§Ù„Ø¨Ø¯Ø¡.');
      return;
    }
    // Ù†Ø¨Ø¯Ø£ Ø§Ù„Ù„Ø¹Ø¨Ø©
    const shuffledWords = shuffle(words.slice()).slice(0, 25);
    const colors = [];
    for (let i = 0; i < 9; i++) colors.push("red");
    for (let i = 0; i < 8; i++) colors.push("blue");
    for (let i = 0; i < 7; i++) colors.push("neutral");
    colors.push("assassin");
    shuffle(colors);

    const board = {};
    shuffledWords.forEach((word, idx) => {
      board[word] = {
        color: colors[idx],
        guessed: false
      };
    });

    gameData.board = board;
    gameData.started = true;
    gameData.turn = "red";
    gameData.winner = null;
    gameData.passed = false;
    updateUI();
  };

  // Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ ÙƒØ±Øª
  boardDiv.onclick = e => {
    if (!gameData.started || gameData.winner) return;
    if (!e.target.classList.contains('card')) return;

    const word = e.target.dataset.word;
    if (gameData.board[word].guessed) return;

    gameData.board[word].guessed = true;

    // Ø¥Ø°Ø§ Ø§Ù„ÙƒØ±Øª Ù‚Ø§ØªÙ„ØŒ Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ø®Ø§Ø³Ø± ÙŠØªØ­Ø¯Ø¯ ÙÙˆØ±Ø§Ù‹
    if (gameData.board[word].color === "assassin") {
      gameData.winner = gameData.turn === "red" ? "blue" : "red";
      updateUI();
      return;
    }

    // ØªØ­Ù‚Ù‚ Ø§Ù„ÙÙˆØ²
    const redLeft = Object.values(gameData.board).filter(c => c.color === "red" && !c.guessed).length;
    const blueLeft = Object.values(gameData.board).filter(c => c.color === "blue" && !c.guessed).length;

    if (redLeft === 0) gameData.winner = "red";
    if (blueLeft === 0) gameData.winner = "blue";

    // ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„Ø¯ÙˆØ± Ø¥Ø°Ø§ Ù…Ø§ ÙƒØ§Ù† Ø§Ù„Ù„ÙˆÙ† Ù…Ø·Ø§Ø¨Ù‚ Ù„Ù„ÙƒØ±Øª
    if (gameData.board[word].color !== gameData.turn) {
      gameData.turn = gameData.turn === "red" ? "blue" : "red";
    }

    updateUI();
  };

  function updateUI() {
    // ØªØ­Ø¯ÙŠØ« Ù„ÙˆØ­Ø© Ø§Ù„ÙƒØ±ÙˆØª
    boardDiv.innerHTML = '';
    if (gameData.board) {
      for (const [word, info] of Object.entries(gameData.board)) {
        const card = document.createElement('div');
        card.classList.add('card');
        if (info.guessed) card.classList.add('guessed', info.color);
        card.textContent = word;
        card.dataset.word = word;
        boardDiv.appendChild(card);
      }
    }

    // ØªØ­Ø¯ÙŠØ« Ø¯ÙˆØ± Ø§Ù„ÙØ±ÙŠÙ‚
    if (gameData.winner) {
      turnIndicator.textContent = '';
      winnerMessage.style.display = 'block';
      winnerMessage.textContent = `Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„ÙØ§ÙŠØ²: ${gameData.winner === 'red' ? 'Ø§Ù„Ø£Ø­Ù…Ø± â¤ï¸' : 'Ø§Ù„Ø£Ø²Ø±Ù‚ ğŸ’™'}`;
    } else if (gameData.started) {
      winnerMessage.style.display = 'none';
      turnIndicator.textContent = `Ø¯ÙˆØ± Ø§Ù„ÙØ±ÙŠÙ‚: ${gameData.turn === 'red' ? 'Ø§Ù„Ø£Ø­Ù…Ø± â¤ï¸' : 'Ø§Ù„Ø£Ø²Ø±Ù‚ ğŸ’™'}`;
    } else {
      winnerMessage.style.display = 'none';
      turnIndicator.textContent = 'Ø§Ù„Ù„Ø¹Ø¨Ø© Ù„Ù… ØªØ¨Ø¯Ø£ Ø¨Ø¹Ø¯';
    }
  }
</script>

</body>
</html>
